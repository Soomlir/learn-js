# Замыкания
Замыкание (`closure`) в JavaScript — это функция, которая «запоминает» своё лексическое окружение, то есть доступ к переменным из внешней функции, даже после того как эта внешняя функция завершит своё выполнение.

## Что такое замыкание?
Замыкание возникает, когда функция используется внутри другой функции, и внутренняя функция сохраняет доступ к переменным внешней функции, даже если внешняя функция уже завершила своё выполнение.

## Зачем нужно замыкание?

### 1. `Инкапсуляция данных`. Замыкания позволяют создавать приватные переменные, которые доступны только внутри функции. Это полезно для скрытия реализации и защиты данных.

### 2. `Функции с состоянием`. Замыкания позволяют создавать функции, которые могут "помнить" своё состояние между вызовами, что полезно для счетчиков, обработчиков событий и других сценариев.

### 3. `Функции высшего порядка`. Замыкания часто используются для создания функций, которые возвращают другие функции с состоянием.

## Как использовать замыкания?

Пример замыкания:
```js
function outer() {
    let counter = 0; // Переменная внешней функции
    return function inner() { // Внутренняя функция
        counter++;
        console.log(counter);
    }
}

const increment = outer(); // Внешняя функция вернула внутреннюю
increment(); // 1
increment(); // 2
increment(); // 3
```

В этом примере:
- Внешняя функция outer() создаёт переменную counter.
- Внутренняя функция inner() использует эту переменную.
- Замыкание позволяет внутренней функции inner() "помнить" значение counter, даже после того как выполнение внешней функции завершилось.

## Пример использования замыкания для инкапсуляции:
```js
function createCounter() {
    let count = 0; // Приватная переменная
    return {
        increment: function() {
            count++;
            console.log(count);
        },
        decrement: function() {
            count--;
            console.log(count);
        },
        getCount: function() {
            return count;
        }
    };
}

const counter = createCounter();
counter.increment(); // 1
counter.increment(); // 2
console.log(counter.getCount()); // 2
counter.decrement(); // 1
```

Здесь:
- Переменная count скрыта от внешнего кода.
- Мы получаем доступ к ней только через публичные методы increment(), decrement() и getCount().
- Замыкание позволяет создать приватное состояние, которое недоступно из внешнего кода, но доступно через методы объекта.

## Итого:
Замыкания — это мощный инструмент в JavaScript, который используется для:
- Инкапсуляции состояния и данных.
- Создания функций с памятью.
- Решения множества задач, таких как обработка событий, отложенные вычисления и т.д.
